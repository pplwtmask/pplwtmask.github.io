---
title: java8计算两个日期之间的工作日
date: 2021-02-26 15:38:06
---
``` java
/**
* 计算两个日期之间的工作日，包含起始日不包含结束日期
* @param start 开始时间
* @param end 截止时间
* @param legalHolidays 法定节假日
* @param legalWorkdays 法定工作日：周末调休
* @return 工作日
*/
public static int workDaysBetweenDate(LocalDate start, LocalDate end, Set<String> legalHolidays, Set<String> legalWorkdays){
   if (Objects.isNull(start) || Objects.isNull(end) 
           || Objects.isNull(legalHolidays) || Objects.isNull(legalWorkdays) ||start.isAfter(end)){
       throw new IllegalArgumentException("输入的参数不合法");
   }
   int betweenDays = Period.between(start, end).getDays();
   DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern("yyyy-MM-dd");
   int minusDays = 0;
   while (start.isBefore(end)){
       String startString = dateTimeFormatter.format(start);
       if (legalHolidays.contains(startString)){
           minusDays--;
       }
       if ((start.getDayOfWeek() == DayOfWeek.SATURDAY || start.getDayOfWeek() == DayOfWeek.SUNDAY)
               && !legalWorkdays.contains(startString)){
           minusDays--;
       }
       start = start.plusDays(1);
   }
   return betweenDays+minusDays;
}
```
