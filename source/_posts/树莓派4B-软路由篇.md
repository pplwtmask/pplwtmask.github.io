---
title: 树莓派4B-软路由篇
date: 2022-05-31 15:38:06
---


# 树莓派4B-软路由篇

## 准备
* 树莓派（Raspberry Pi）[支持的设备](https://doc.openwrt.cc/2-OpenWrt-Rpi/1-Download/#_3)
* 读卡器+存储卡（读写性能会影响树莓派的性能）
* 电脑（win、mac、linux）
* 网线

## 刷写OpenWrt

1. 下载OpenWrt固件
根据树莓派的型号下载对应的OpenWrt固件版本，[下载地址](https://doc.openwrt.cc/2-OpenWrt-Rpi/1-Download/)

2. 刷写固件
推荐使用工具[balenaEtcher](https://www.balena.io/etcher/)，使用非常简单Flash from file（选择下载的固件包可以是压缩文件） ->  Select target（要安装的位置一般是存储卡） -> Flash！（刷写）

3. 启动树莓派
因为有千兆网络接口和无线网卡，所以不需要外置设备即可实现无线上网。
> 1.将刷写好的内存卡插入树莓派
2.将网线连接到路由器的LAN口和树莓派的网络接口
3.插上电源，此时树莓派红灯常亮，绿灯闪烁后变暗，启动完成。

4. 配置软路由
启动树莓派后，OpenWrt默认的ssid名称Openwrt,无密码；默认的网关地址192.168.1.1，用户名为：`root` 密码：`password`

>1.登录OpenWrt的web页面后，为了保证安全首先修改用户名密码，和无线网密码，分别在 系统>管理权，网络>无线（加密方式可选wpa-psk/wpa2-psk）。
2.将 网络>接口中传输协议修改为DHCP客户端，保存并应用。此时软路由会自动根据路由器设置的ip范围设定一个未使用的ip地址，注意此时软路由的ip已经更改，需要登录路由器查看当前软路由的ip地址。


5. 高级配置
经过以上的设置，Openwrt的无线网络已经可以连接到互联网，此时可以通过新的IP地址登录到web配置页面进行各种高级的配置，比如开启著名的BBR拥塞控制算法，vpn、内网穿透、网络存储等等。。。。


**注意：** 也可以作为主路由使用！！




































